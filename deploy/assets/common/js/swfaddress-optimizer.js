/** * SWFAddress 2.2: Deep linking for Flash and Ajax <http://www.asual.com/swfaddress/> * * SWFAddress is (c) 2006-2008 Rostislav Hristov and contributors * This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> * * Uses code from SWFObject 2.0 <http://code.google.com/p/swfobject/> * SWFObject is (c) 2007-2008 Geoff Stearns, Michael Williams, and Bobby van der Sluis * */if(typeof asual=="undefined"){asual={};}if(typeof asual.swfaddress=="undefined"){asual.swfaddress={};}asual.swfaddress.SWFAddressOptimizer=new function(){var _1="object",_2="Shockwave Flash",_3="ShockwaveFlash.ShockwaveFlash",_4="application/x-shockwave-flash",_5="undefined",_6=location.href.indexOf("#"),_7,_n=navigator,_9={};var _a=function(_b){var rv=_b.toString().split(".");for(var i=0;i<3;i++){rv[i]=typeof rv[i]!=_5?parseInt(rv[i]):0;}var pv=[0,0,0];var d=null;if(typeof _n.plugins!=_5&&typeof _n.plugins[_2]==_1){d=_n.plugins[_2].description;if(d&&!(typeof _n.mimeTypes!=_5&&_n.mimeTypes[_4]&&!_n.mimeTypes[_4].enabledPlugin)){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");pv[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);pv[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);pv[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof window.ActiveXObject!=_5){var a=null;var _11=false;try{a=new ActiveXObject(_3+".7");}catch(e){try{a=new ActiveXObject(_3+".6");pv=[6,0,21];a.AllowScriptAccess="always";}catch(e){if(pv[0]==6){_11=true;}}if(!_11){try{a=new ActiveXObject(_3);}catch(e){}}}if(!_11&&typeof a==_1){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e){}}}}return (pv[0]>rv[0]||(pv[0]==rv[0]&&pv[1]>rv[1])||(pv[0]==rv[0]&&pv[1]==rv[1]&&pv[2]>=rv[2]))?true:false;};var _12=function(_13,_14){var _15=location.href.split(location.hostname)[1].replace(_14,"");if(_13!="/"&&(_6==-1||_6==location.href.length-1)&&(_15!=""&&_15!="/")){var xhr;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else{if(window.ActiveXObject){try{try{xhr=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){xhr=new ActiveXObject("Microsoft.XMLHTTP");}}catch(e){}}}if(xhr){xhr.open("get",((typeof _14!=_5)?_14:"")+"/?"+_13,false);xhr.setRequestHeader("Content-Type","application/x-swfaddress");xhr.send("");eval(xhr.responseText);}}};var _17=function(el){for(var i=0,l=el.childNodes.length,s;i<l;i++){if(el.childNodes[i].src){_7=String(el.childNodes[i].src);}_17(el.childNodes[i]);}};_17(document);var qi=_7.indexOf("?");if(_7&&qi>-1){var _1d,_1e=_7.substr(qi+1).split("&");for(var i=0,p;p=_1e[i];i++){_1d=p.split("=");if(/^(flash|base|swfaddress)$/.test(_1d[0])){_9[_1d[0]]=unescape(_1d[1]);}}}if(typeof _9.flash!=_5){if(_a(_9.flash)){_12(_9.swfaddress,_9.base);}else{if(_6!=-1){location.replace(location.href.replace(/#(\/)?/,""));}}}else{_12(_9.swfaddress,_9.base);}this.toString=function(){return "[class SWFAddressOptimizer]";};};